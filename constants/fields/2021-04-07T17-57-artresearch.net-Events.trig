@prefix : <http://www.researchspace.org/resource/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix frbroo: <http://iflastandards.info/ns/fr/frbr/frbroo/> .
@prefix crminfluence: <http://www.cidoc-crm.org/cidoc-crm/influence/> .
@prefix crmarchaeo: <http://www.cidoc-crm.org/cidoc-crm/CRMarchaeo/> .
@prefix rshelp: <http://researchspace.org/help/> .
@prefix ontodia: <http://ontodia.org/schema/v1#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rso: <http://www.researchspace.org/ontology/> .
@prefix sp: <http://spinrdf.org/sp#> .
@prefix Help: <http://help.researchspace.org/resource/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix Admin: <http://www.researchspace.org/resource/admin/> .
@prefix crmgeo: <http://www.ics.forth.gr/isl/CRMgeo/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix crm: <http://www.cidoc-crm.org/cidoc-crm/> .
@prefix crmba: <http://www.cidoc-crm.org/cidoc-crm/CRMba/> .
@prefix crmsci: <http://www.ics.forth.gr/isl/CRMsci/> .
@prefix crmdig: <http://www.ics.forth.gr/isl/CRMdig/> .
@prefix User: <http://www.researchspace.org/resource/user/> .
@prefix bds: <http://www.bigdata.com/rdf/search#> .
@prefix Platform: <http://www.researchspace.org/resource/system/> .

<http://www.researchspace.org/fieldDefinition/Events/context> {
  _:t36751099 a sp:Query;
    sp:text "INSERT { $subject ?predicate $value} WHERE {}" .
  
  _:t36751100 a sp:Query;
    sp:text """SELECT ?value ?label ?provider ?providerLabel WHERE {
  graph ?graph{
    ?subject <https://pharos.artresearch.net/resource/fr/Artist_participated_Event> ?event.
    ?event <https://pharos.artresearch.net/resource/fr/Event_has_Type> ?event_type.
    ?event <https://pharos.artresearch.net/resource/fr/Event_at_Place> ?event_place.
    ?event_type <http://www.w3.org/2000/01/rdf-schema#label> ?event_type_label.
    ?event_place <http://www.w3.org/2000/01/rdf-schema#label> ?event_place_label.
    BIND (CONCAT(?event_type_label, \" at \" ,?event_place_label) AS ?value)
  }
  ?graph <https://pharos.artresearch.net/custom/has_provider> ?provider .
  ?provider rdfs:label ?providerLabel.
}""" .
  
  <http://www.researchspace.org/fieldDefinition/Events> a <http://www.w3.org/ns/ldp#Resource>,
      prov:Entity, <http://www.researchspace.org/resource/system/fields/Field>;
    <http://www.researchspace.org/resource/system/fields/order> "31800";
    <http://www.researchspace.org/resource/system/fields/xsdDatatype> xsd:string;
    prov:wasAttributedTo User:admin;
    rdfs:label "Events"@en;
    <http://www.researchspace.org/resource/system/fields/domain> crm:E21_Person;
    <http://www.researchspace.org/resource/system/fields/category> <http://www.researchspace.org/ontologies/platform/FieldCategories/external_info>;
    <http://www.researchspace.org/resource/system/fields/insertPattern> _:t36751099;
    prov:generatedAtTime "2021-03-18T12:10:17.111Z"^^xsd:dateTime;
    <http://www.researchspace.org/resource/system/fields/selectPattern> _:t36751100 .
  
  _:node1f2jqhtfcx58 <http://www.w3.org/ns/ldp#contains> <http://www.researchspace.org/fieldDefinition/Events> .
}

{
  _:node1f2jqhtfcx58 a <http://www.w3.org/ns/ldp#Container>, <http://www.w3.org/ns/ldp#Resource>,
      prov:Entity .
}
